[project]
name = "devenv-backend"
revision = "1.0"

# Default profile (applies to all profiles unless overridden)
[profiles.default]
# Database
DATABASE_URL = { description = "PostgreSQL connection string", required = true }

# Error Tracking
SENTRY_DSN = { description = "Sentry error tracking DSN", required = false }

# Analytics
POSTHOG_API_KEY = { description = "PostHog analytics API key", required = false }

# GitHub App
GITHUB_APP_PRIVATE_KEY = { description = "GitHub App private key (PEM format)", required = true }
GITHUB_WEBHOOK_SECRET = { description = "GitHub webhook secret for validating payloads", required = true }

ZITADEL_JWT_PROFILE = { description = "ZITADEL JWT profile to use for authentication and introspection", required = true }
ZITADEL_WEBHOOK_SECRET = { description = "ZITADEL key for signing and validating webhook payloads. Look for $DEVENV_STATE/zitadel/signing-key.txt", required = true }

[profiles.development]
DATABASE_URL = { required = false }

[profiles.staging]

[profiles.production]
SENTRY_DSN = { required = true }
POSTHOG_API_KEY = { required = true }
